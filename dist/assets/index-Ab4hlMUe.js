import{j as e,S as rs,P as I,u as je,a as fe,c as ve,b as G,d as ls,e as ns,T as ye,I as is,f as be,g as Ne,h as cs,C as we,V as ds,L as Ce,i as ke,k as os,l as ms,m as Se,R as xs,n as hs,o as Ae,p as us,q as ps,r as gs,s as js,t as fs}from"./ui-Q1cNd3B_.js";import{a as vs,r as c,b as ys}from"./vendor-BqSMHcVE.js";import{t as bs,c as Ns,a as ae}from"./utils-CfDMlrKu.js";import{R as de,L as ws,C as Cs,X as ks,Y as Ss,T as oe,a as ee,P as As,b as zs,c as Ms}from"./charts-CoBlaXpa.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();var te={},me=vs;te.createRoot=me.createRoot,te.hydrateRoot=me.hydrateRoot;const U="cobumlixvwsowrfqcdnk",Z="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNvYnVtbGl4dndzb3dyZnFjZG5rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5OTIwNDQsImV4cCI6MjA2OTU2ODA0NH0.UWBgHsWCwbUw0u8m3B9AT-ennEAKhSxXL7QBKhTVaE4";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ts={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),h=(s,l)=>{const a=c.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:i="",children:x,...m},n)=>c.createElement("svg",{ref:n,...Ts,width:t,height:t,stroke:r,strokeWidth:d?Number(o)*24/Number(t):o,className:["lucide",`lucide-${Rs(s)}`,i].join(" "),...m},[...l.map(([p,v])=>c.createElement(p,v)),...Array.isArray(x)?x:[x]]));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=h("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=h("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=h("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=h("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=h("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=h("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=h("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=h("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=h("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=h("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=h("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=h("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=h("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=h("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=h("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=h("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=h("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=h("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=h("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=h("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=h("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=h("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=h("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=h("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=h("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=h("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=h("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=h("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=h("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=h("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=h("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=h("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=h("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=h("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=h("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function g(...s){return bs(Ns(s))}const b=c.forwardRef(({className:s,...l},a)=>e.jsx("div",{ref:a,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l}));b.displayName="Card";const N=c.forwardRef(({className:s,...l},a)=>e.jsx("div",{ref:a,className:g("flex flex-col space-y-1.5 p-6",s),...l}));N.displayName="CardHeader";const w=c.forwardRef(({className:s,...l},a)=>e.jsx("h3",{ref:a,className:g("text-2xl font-semibold leading-none tracking-tight",s),...l}));w.displayName="CardTitle";const k=c.forwardRef(({className:s,...l},a)=>e.jsx("p",{ref:a,className:g("text-sm text-muted-foreground",s),...l}));k.displayName="CardDescription";const C=c.forwardRef(({className:s,...l},a)=>e.jsx("div",{ref:a,className:g("p-6 pt-0",s),...l}));C.displayName="CardContent";const Zs=c.forwardRef(({className:s,...l},a)=>e.jsx("div",{ref:a,className:g("flex items-center p-6 pt-0",s),...l}));Zs.displayName="CardFooter";function A({title:s,value:l,change:a,icon:r}){const t=a>=0;return e.jsxs(b,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm text-muted-foreground",children:s}),r]}),e.jsxs(C,{children:[e.jsx("div",{className:"text-2xl",children:l}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t?e.jsx(Pe,{className:"h-3 w-3 text-green-500"}):e.jsx(Hs,{className:"h-3 w-3 text-red-500"}),e.jsxs("span",{className:t?"text-green-500":"text-red-500",children:[t?"+":"",a,"%"]}),e.jsx("span",{children:"depuis le mois dernier"})]})]})]})}const Js={totalCampaigns:24,activeCampaigns:5,totalContacts:1247,activeContacts:1180,deliveryRate:94,openRate:67,replyRate:12,chartData:[{date:"2024-01-01",sent:1200,delivered:1140,opened:760},{date:"2024-01-02",sent:980,delivered:931,opened:620},{date:"2024-01-03",sent:1450,delivered:1378,opened:920},{date:"2024-01-04",sent:1100,delivered:1045,opened:698},{date:"2024-01-05",sent:1350,delivered:1283,opened:851},{date:"2024-01-06",sent:1600,delivered:1520,opened:1008},{date:"2024-01-07",sent:1250,delivered:1188,opened:788}]},pe=()=>{const[s,l]=c.useState(Js),[a,r]=c.useState(!0),[t,o]=c.useState("7d"),[d,i]=c.useState(!1);c.useEffect(()=>{x()},[]);const x=async()=>{try{const n=await fetch(`https://${U}.supabase.co/functions/v1/make-server-020ed839/dashboard/stats`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(n.ok){const p=await n.json();l(p),i(!0),console.log("Données chargées depuis le serveur")}else console.log("Utilisation des données de fallback"),i(!1)}catch(n){console.log("Mode hors ligne, utilisation des données de fallback:",n),i(!1)}finally{r(!1)}},m=[{name:"SMS",value:45,color:"#3B82F6"},{name:"Email",value:35,color:"#10B981"},{name:"WhatsApp",value:20,color:"#8B5CF6"}];return a?e.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[1,2,3,4].map(n=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},n))})]})}):e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${d?"bg-green-500":"bg-orange-500"}`,title:d?"Connecté au serveur":"Mode démonstration"})]}),e.jsx("p",{className:"text-gray-600",children:"Vue d'ensemble de vos campagnes marketing"}),!d&&e.jsx("p",{className:"text-orange-600 text-sm mt-1",children:"Mode démonstration - Données statiques"})]}),e.jsx("div",{className:"mt-4 lg:mt-0",children:e.jsxs("select",{value:t,onChange:n=>o(n.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"7d",children:"7 derniers jours"}),e.jsx("option",{value:"30d",children:"30 derniers jours"}),e.jsx("option",{value:"90d",children:"3 derniers mois"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsx(A,{title:"Campagnes totales",value:s.totalCampaigns.toString(),change:12,icon:e.jsx(_,{className:"h-4 w-4 text-blue-500"})}),e.jsx(A,{title:"Campagnes actives",value:s.activeCampaigns.toString(),change:8,icon:e.jsx(ze,{className:"h-4 w-4 text-green-500"})}),e.jsx(A,{title:"Contacts totaux",value:s.totalContacts.toLocaleString(),change:15,icon:e.jsx(B,{className:"h-4 w-4 text-purple-500"})}),e.jsx(A,{title:"Taux de livraison",value:`${s.deliveryRate}%`,change:-2,icon:e.jsx(z,{className:"h-4 w-4 text-orange-500"})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Évolution des envois"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Envoyés"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Livrés"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Ouverts"})]})]})]}),e.jsx(de,{width:"100%",height:300,children:e.jsxs(ws,{data:s.chartData,children:[e.jsx(Cs,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(ks,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:n=>new Date(n).toLocaleDateString("fr-FR",{month:"short",day:"numeric"})}),e.jsx(Ss,{stroke:"#6b7280",fontSize:12}),e.jsx(oe,{labelFormatter:n=>new Date(n).toLocaleDateString("fr-FR"),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(ee,{type:"monotone",dataKey:"sent",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}}),e.jsx(ee,{type:"monotone",dataKey:"delivered",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981"}}),e.jsx(ee,{type:"monotone",dataKey:"opened",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6"}})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Répartition par canal"}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(de,{width:"100%",height:"100%",children:e.jsxs(As,{children:[e.jsx(zs,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:m.map((n,p)=>e.jsx(Ms,{fill:n.color},`cell-${p}`))}),e.jsx(oe,{formatter:n=>[`${n}%`,"Répartition"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})}),e.jsx("div",{className:"flex justify-center space-x-6 mt-4",children:m.map(n=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:n.color}}),e.jsxs("span",{className:"text-sm text-gray-600",children:[n.name," (",n.value,"%)"]})]},n.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Taux d'ouverture"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.openRate,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"text-blue-600",size:24})})]}),e.jsx("div",{className:"mt-4 bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${s.openRate}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Taux de réponse"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.replyRate,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"mt-4 bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-1000",style:{width:`${s.replyRate}%`}})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Taux de livraison"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[s.deliveryRate,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"text-purple-600",size:24})})]}),e.jsx("div",{className:"mt-4 bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-1000",style:{width:`${s.deliveryRate}%`}})})]})]})]})},Xs=[{id:"1",name:"Campagne SMS Black Friday",type:"sms",status:"completed",sentCount:1247,deliveredCount:1185,openedCount:892,clickedCount:156,repliedCount:89,createdAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Newsletter Mensuelle",type:"email",status:"sending",sentCount:2341,deliveredCount:2298,openedCount:1654,clickedCount:342,repliedCount:67,createdAt:"2024-01-14T14:30:00Z"},{id:"3",name:"Message WhatsApp Promo",type:"whatsapp",status:"draft",sentCount:0,deliveredCount:0,openedCount:0,clickedCount:0,repliedCount:0,createdAt:"2024-01-13T09:15:00Z"}],Ys=s=>{switch(s){case"sms":return e.jsx(X,{size:16,className:"text-purple-500"});case"whatsapp":return e.jsx(M,{size:16,className:"text-green-500"});case"email":return e.jsx(z,{size:16,className:"text-blue-500"});default:return e.jsx(_,{size:16})}},Qs=s=>{const l={draft:{label:"Brouillon",className:"bg-gray-100 text-gray-800"},sending:{label:"En cours",className:"bg-blue-100 text-blue-800"},completed:{label:"Terminée",className:"bg-green-100 text-green-800"}},a=l[s]||l.draft;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.className}`,children:a.label})},et=()=>{const[s]=c.useState(Xs),[l,a]=c.useState(!1);return e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Campagnes"}),e.jsx("p",{className:"text-gray-600",children:"Créez et gérez vos campagnes marketing"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"mt-4 lg:mt-0 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[e.jsx(le,{size:20}),e.jsx("span",{children:"Nouvelle campagne"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(_,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(ue,{size:16,className:"text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En cours"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(r=>r.status==="sending").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(B,{size:16,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Messages envoyés"}),e.jsx("p",{className:"text-xl font-bold",children:s.reduce((r,t)=>r+t.sentCount,0).toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(M,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Réponses"}),e.jsx("p",{className:"text-xl font-bold",children:s.reduce((r,t)=>r+t.repliedCount,0).toLocaleString()})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Toutes les campagnes"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.map(r=>(r.sentCount>0&&Math.round(r.deliveredCount/r.sentCount*100),r.deliveredCount>0&&Math.round(r.openedCount/r.deliveredCount*100),e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:Ys(r.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:e.jsxs("span",{children:["Créée le ",new Date(r.createdAt).toLocaleDateString("fr-FR")]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[r.sentCount>0&&e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.sentCount}),e.jsx("p",{className:"text-gray-600",children:"Envoyés"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.openedCount}),e.jsx("p",{className:"text-gray-600",children:"Ouverts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.repliedCount}),e.jsx("p",{className:"text-gray-600",children:"Réponses"})]})]}),Qs(r.status),r.status==="draft"&&e.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-700 flex items-center space-x-2 transition-colors",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Lancer"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(ne,{size:16})}),e.jsx("button",{className:"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",children:e.jsx(ie,{size:16})})]})]})]})},r.id)))})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Nouvelle campagne"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fonctionnalité en cours de développement..."}),e.jsx("button",{onClick:()=>a(!1),className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200",children:"Fermer"})]})})]})},st=[{id:"1",name:"Marie Dubois",email:"marie.dubois@example.com",phone:"+33 6 12 34 56 78",whatsapp:"+33 6 12 34 56 78",segment:"Clients Premium",status:"active",createdAt:"2024-01-10T10:00:00Z"},{id:"2",name:"Pierre Martin",email:"pierre.martin@example.com",phone:"+33 6 98 76 54 32",whatsapp:"",segment:"Prospects",status:"active",createdAt:"2024-01-09T14:30:00Z"},{id:"3",name:"Sophie Leroy",email:"sophie.leroy@example.com",phone:"+33 6 11 22 33 44",whatsapp:"+33 6 11 22 33 44",segment:"Newsletter",status:"active",createdAt:"2024-01-08T09:15:00Z"}],tt=()=>{const[s]=c.useState(st),[l,a]=c.useState(""),[r,t]=c.useState(!1),o=s.filter(i=>i.name.toLowerCase().includes(l.toLowerCase())||i.email.toLowerCase().includes(l.toLowerCase())||i.segment.toLowerCase().includes(l.toLowerCase())),d=i=>{const x=[];return i.email&&x.push({type:"email",icon:z,value:i.email}),i.phone&&x.push({type:"phone",icon:he,value:i.phone}),i.whatsapp&&x.push({type:"whatsapp",icon:M,value:i.whatsapp}),x};return e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contacts"}),e.jsx("p",{className:"text-gray-600",children:"Gérez votre base de contacts et listes de diffusion"})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 lg:mt-0",children:[e.jsxs("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 flex items-center space-x-2 transition-colors",children:[e.jsx(Gs,{size:16}),e.jsx("span",{children:"Importer"})]}),e.jsxs("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 flex items-center space-x-2 transition-colors",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Exporter"})]}),e.jsxs("button",{onClick:()=>t(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Ajouter un contact"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(B,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total contacts"}),e.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(z,{size:16,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avec email"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(i=>i.email).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(he,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avec téléphone"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(i=>i.phone).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(M,{size:16,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avec WhatsApp"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(i=>i.whatsapp).length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{size:20,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:i=>a(i.target.value),placeholder:"Rechercher un contact...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Tous les contacts (",o.length,")"]})}),o.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:o.map(i=>{var m;const x=d(i);return e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:(m=i.name[0])==null?void 0:m.toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:i.name}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:i.segment})]}),e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:x.map(({type:n,icon:p,value:v},u)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(p,{size:14}),e.jsx("span",{children:v})]},n))}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Ajouté le ",new Date(i.createdAt).toLocaleDateString("fr-FR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(ne,{size:16})}),e.jsx("button",{className:"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",children:e.jsx(ie,{size:16})})]})]})},i.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:s.length===0?"Aucun contact trouvé":"Aucun résultat pour cette recherche"}),e.jsx("p",{className:"text-sm text-gray-400",children:s.length===0?"Commencez par ajouter vos premiers contacts":"Essayez de modifier votre recherche"})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ajouter un contact"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fonctionnalité en cours de développement..."}),e.jsx("button",{onClick:()=>t(!1),className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200",children:"Fermer"})]})})]})},at=[{id:"1",name:"SMS Promotion Black Friday",type:"sms",subject:"",content:"Bonjour {{nom}}, profitez de -30% sur tout le site avec le code BLACKFRIDAY30 ! Valable jusqu'au {{date}}. Ne ratez pas cette offre exceptionnelle !",variables:["nom","date"],createdAt:"2024-01-10T10:00:00Z"},{id:"2",name:"Newsletter Mensuelle",type:"email",subject:"Votre newsletter {{mois}} est arrivée !",content:`Bonjour {{nom}},

Découvrez les nouveautés de {{mois}} :
- Nouveau produit lancé
- Témoignages clients
- Conseils d'experts

Cordialement,
L'équipe`,variables:["nom","mois"],createdAt:"2024-01-09T14:30:00Z"},{id:"3",name:"Message WhatsApp Bienvenue",type:"whatsapp",subject:"",content:"Salut {{nom}} ! 👋 Bienvenue dans notre communauté ! Nous sommes ravis de t'accueillir. N'hésite pas à nous contacter si tu as des questions.",variables:["nom"],createdAt:"2024-01-08T09:15:00Z"}],rt=s=>{switch(s){case"sms":return e.jsx(X,{size:16,className:"text-purple-500"});case"whatsapp":return e.jsx(M,{size:16,className:"text-green-500"});case"email":return e.jsx(z,{size:16,className:"text-blue-500"});default:return e.jsx(J,{size:16})}},lt=s=>{switch(s){case"sms":return"bg-purple-100 text-purple-800";case"whatsapp":return"bg-green-100 text-green-800";case"email":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},nt=s=>{switch(s){case"sms":return"SMS";case"whatsapp":return"WhatsApp";case"email":return"Email";default:return"Autre"}},it=()=>{const[s]=c.useState(at),[l,a]=c.useState(""),[r,t]=c.useState("all"),[o,d]=c.useState(!1),[i,x]=c.useState(null),m=s.filter(n=>{const p=n.name.toLowerCase().includes(l.toLowerCase())||n.content.toLowerCase().includes(l.toLowerCase()),v=r==="all"||n.type===r;return p&&v});return e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates"}),e.jsx("p",{className:"text-gray-600",children:"Créez et gérez vos modèles de messages réutilisables"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"mt-4 lg:mt-0 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[e.jsx(le,{size:20}),e.jsx("span",{children:"Nouveau template"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(J,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total templates"}),e.jsx("p",{className:"text-xl font-bold",children:s.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(z,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(n=>n.type==="email").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(M,{size:16,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(n=>n.type==="whatsapp").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(X,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"SMS"}),e.jsx("p",{className:"text-xl font-bold",children:s.filter(n=>n.type==="sms").length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Re,{size:20,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:l,onChange:n=>a(n.target.value),placeholder:"Rechercher un template...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("select",{value:r,onChange:n=>t(n.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tous les types"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"whatsapp",children:"WhatsApp"}),e.jsx("option",{value:"sms",children:"SMS"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(n=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:rt(n.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:n.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${lt(n.type)}`,children:nt(n.type)})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>x(n),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Aperçu",children:e.jsx(Te,{size:16})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Copier",children:e.jsx(Es,{size:16})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Modifier",children:e.jsx(ne,{size:16})}),e.jsx("button",{className:"p-2 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",title:"Supprimer",children:e.jsx(ie,{size:16})})]})]}),n.subject&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide mb-1",children:"Objet"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:n.subject})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide mb-1",children:"Contenu"}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:n.content})]}),n.variables.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide mb-2",children:"Variables"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.variables.slice(0,3).map(p=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:p},p)),n.variables.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",n.variables.length-3]})]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Créé le ",new Date(n.createdAt).toLocaleDateString("fr-FR")]})]})},n.id))}),m.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(J,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l||r!=="all"?"Aucun template trouvé":"Aucun template"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l||r!=="all"?"Essayez de modifier vos filtres":"Créez votre premier template pour démarrer"})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Nouveau template"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Fonctionnalité en cours de développement..."}),e.jsx("button",{onClick:()=>d(!1),className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200",children:"Fermer"})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Aperçu: ",i.name]}),i.subject&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Objet:"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"font-medium",children:i.subject})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Contenu:"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"whitespace-pre-wrap",children:i.content})})]}),i.variables.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Variables disponibles:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.variables.map(n=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full",children:`{{${n}}}`},n))})]}),e.jsx("button",{onClick:()=>x(null),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700",children:"Fermer"})]})})]})},se=[{date:"2024-01-01",sms:300,whatsapp:150,email:800},{date:"2024-01-02",sms:250,whatsapp:120,email:650},{date:"2024-01-03",sms:400,whatsapp:180,email:900},{date:"2024-01-04",sms:350,whatsapp:160,email:750},{date:"2024-01-05",sms:450,whatsapp:200,email:950},{date:"2024-01-06",sms:380,whatsapp:170,email:820},{date:"2024-01-07",sms:320,whatsapp:140,email:700}],ge=[{name:"SMS",value:2450,percentage:25,color:"#8B5CF6"},{name:"WhatsApp",value:1520,percentage:15,color:"#10B981"},{name:"Email",value:5870,percentage:60,color:"#3B82F6"}],ct=()=>{const[s,l]=c.useState(null),[a,r]=c.useState(!0),[t,o]=c.useState("30d"),[d,i]=c.useState(!1);c.useEffect(()=>{x()},[]);const x=async()=>{try{const u=await fetch(`https://${U}.supabase.co/functions/v1/make-server-020ed839/analytics`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(u.ok){const f=await u.json();l(f),i(!0)}else l({channelStats:{sms:{campaigns:5,sent:2450,delivered:2328,opened:2095,replied:156},whatsapp:{campaigns:3,sent:1520,delivered:1488,opened:1339,replied:89},email:{campaigns:8,sent:5870,delivered:5753,opened:4025,replied:234}},evolutionData:se,totalCampaigns:16,activeCampaigns:3}),i(!1)}catch(u){console.log("Mode hors ligne, utilisation des données de démonstration:",u),l({channelStats:{sms:{campaigns:5,sent:2450,delivered:2328,opened:2095,replied:156},whatsapp:{campaigns:3,sent:1520,delivered:1488,opened:1339,replied:89},email:{campaigns:8,sent:5870,delivered:5753,opened:4025,replied:234}},evolutionData:se,totalCampaigns:16,activeCampaigns:3}),i(!1)}finally{r(!1)}};if(a)return e.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[1,2,3,4].map(u=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},u))})]})});if(!s)return e.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:"Erreur lors du chargement des données d'analyse"})})});const m=s.channelStats.sms.sent+s.channelStats.whatsapp.sent+s.channelStats.email.sent,n=s.channelStats.sms.delivered+s.channelStats.whatsapp.delivered+s.channelStats.email.delivered,p=s.channelStats.sms.opened+s.channelStats.whatsapp.opened+s.channelStats.email.opened,v=s.channelStats.sms.replied+s.channelStats.whatsapp.replied+s.channelStats.email.replied;return e.jsxs("div",{className:"p-4 lg:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${d?"bg-green-500":"bg-orange-500"}`,title:d?"Connecté au serveur":"Mode démonstration"})]}),e.jsx("p",{className:"text-gray-600",children:"Analysez les performances de vos campagnes marketing"}),!d&&e.jsx("p",{className:"text-orange-600 text-sm mt-1",children:"Mode démonstration - Données statiques"})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 lg:mt-0",children:[e.jsxs("select",{value:t,onChange:u=>o(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"7d",children:"7 derniers jours"}),e.jsx("option",{value:"30d",children:"30 derniers jours"}),e.jsx("option",{value:"90d",children:"3 derniers mois"}),e.jsx("option",{value:"1y",children:"12 derniers mois"})]}),e.jsxs("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 flex items-center space-x-2 transition-colors",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Exporter"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsx(A,{title:"Messages envoyés",value:m.toLocaleString(),change:15,icon:e.jsx(xe,{className:"h-4 w-4 text-blue-500"})}),e.jsx(A,{title:"Messages livrés",value:n.toLocaleString(),change:12,icon:e.jsx(xe,{className:"h-4 w-4 text-green-500"})}),e.jsx(A,{title:"Messages ouverts",value:p.toLocaleString(),change:8,icon:e.jsx(Te,{className:"h-4 w-4 text-purple-500"})}),e.jsx(A,{title:"Réponses reçues",value:v.toLocaleString(),change:-3,icon:e.jsx(Os,{className:"h-4 w-4 text-orange-500"})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Évolution des envois"}),e.jsx("div",{className:"space-y-4",children:se.slice(-7).map((u,f)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:new Date(u.date).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"})}),e.jsxs("div",{className:"flex space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),e.jsxs("span",{children:[u.sms," SMS"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsxs("span",{children:[u.whatsapp," WA"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("span",{children:[u.email," Email"]})]})]})]},u.date))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Répartition par canal"}),e.jsx("div",{className:"space-y-4",children:ge.map(u=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:u.color}}),e.jsx("span",{className:"font-medium text-gray-900",children:u.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[u.percentage,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u.value.toLocaleString()," envois"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:u.color,width:`${u.percentage}%`}})})]},u.name))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance par canal"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:Object.entries(s.channelStats).map(([u,f])=>{var W;const $=f.sent>0?Math.round(f.delivered/f.sent*100):0,K=f.delivered>0?Math.round(f.opened/f.delivered*100):0,L=f.delivered>0?Math.round(f.replied/f.delivered*100):0;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u.toUpperCase()}),e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(W=ge.find(E=>E.name.toLowerCase().includes(u)))==null?void 0:W.color}})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Campagnes:"}),e.jsx("span",{className:"font-medium",children:f.campaigns})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Envoyés:"}),e.jsx("span",{className:"font-medium",children:f.sent.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Livrés:"}),e.jsxs("span",{className:"font-medium",children:[f.delivered.toLocaleString()," (",$,"%)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ouverts:"}),e.jsxs("span",{className:"font-medium",children:[f.opened.toLocaleString()," (",K,"%)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Réponses:"}),e.jsxs("span",{className:"font-medium",children:[f.replied.toLocaleString()," (",L,"%)"]})]})]})]},u)})})})]})]})},dt=ae("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=c.forwardRef(({className:s,variant:l,size:a,asChild:r=!1,...t},o)=>{const d=r?rs:"button";return e.jsx(d,{className:g(dt({variant:l,size:a,className:s})),ref:o,...t})});P.displayName="Button";const S=c.forwardRef(({className:s,type:l,...a},r)=>e.jsx("input",{type:l,className:g("flex h-10 w-full rounded-md border border-input bg-input-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a}));S.displayName="Input";var ot="Label",Ie=c.forwardRef((s,l)=>e.jsx(I.label,{...s,ref:l,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||((t=s.onMouseDown)==null||t.call(s,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Ie.displayName=ot;var Le=Ie;const mt=ae("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=c.forwardRef(({className:s,...l},a)=>e.jsx(Le,{ref:a,className:g(mt(),s),...l}));y.displayName=Le.displayName;var Y="Switch",[xt,Pt]=ve(Y),[ht,ut]=xt(Y),Ee=c.forwardRef((s,l)=>{const{__scopeSwitch:a,name:r,checked:t,defaultChecked:o,required:d,disabled:i,value:x="on",onCheckedChange:m,form:n,...p}=s,[v,u]=c.useState(null),f=je(l,E=>u(E)),$=c.useRef(!1),K=v?n||!!v.closest("form"):!0,[L,W]=fe({prop:t,defaultProp:o??!1,onChange:m,caller:Y});return e.jsxs(ht,{scope:a,checked:L,disabled:i,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":L,"aria-required":d,"data-state":Be(L),"data-disabled":i?"":void 0,disabled:i,value:x,...p,ref:f,onClick:G(s.onClick,E=>{W(as=>!as),K&&($.current=E.isPropagationStopped(),$.current||E.stopPropagation())})}),K&&e.jsx(Ve,{control:v,bubbles:!$.current,name:r,value:x,checked:L,required:d,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});Ee.displayName=Y;var Fe="SwitchThumb",De=c.forwardRef((s,l)=>{const{__scopeSwitch:a,...r}=s,t=ut(Fe,a);return e.jsx(I.span,{"data-state":Be(t.checked),"data-disabled":t.disabled?"":void 0,...r,ref:l})});De.displayName=Fe;var pt="SwitchBubbleInput",Ve=c.forwardRef(({__scopeSwitch:s,control:l,checked:a,bubbles:r=!0,...t},o)=>{const d=c.useRef(null),i=je(d,o),x=ls(a),m=ns(l);return c.useEffect(()=>{const n=d.current;if(!n)return;const p=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(p,"checked").set;if(x!==a&&u){const f=new Event("click",{bubbles:r});u.call(n,a),n.dispatchEvent(f)}},[x,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...t,tabIndex:-1,ref:i,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ve.displayName=pt;function Be(s){return s?"checked":"unchecked"}var $e=Ee,gt=De;const V=c.forwardRef(({className:s,...l},a)=>e.jsx($e,{className:g("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background",s),...l,ref:a,children:e.jsx(gt,{className:g("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));V.displayName=$e.displayName;const F=xs,D=hs,T=c.forwardRef(({className:s,children:l,...a},r)=>e.jsxs(ye,{ref:r,className:g("flex h-10 w-full items-center justify-between rounded-md border border-input bg-input-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[l,e.jsx(is,{asChild:!0,children:e.jsx(Me,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=ye.displayName;const Oe=c.forwardRef(({className:s,...l},a)=>e.jsx(be,{ref:a,className:g("flex cursor-default items-center justify-center py-1",s),...l,children:e.jsx(Ls,{className:"h-4 w-4"})}));Oe.displayName=be.displayName;const qe=c.forwardRef(({className:s,...l},a)=>e.jsx(Ne,{ref:a,className:g("flex cursor-default items-center justify-center py-1",s),...l,children:e.jsx(Me,{className:"h-4 w-4"})}));qe.displayName=Ne.displayName;const R=c.forwardRef(({className:s,children:l,position:a="popper",...r},t)=>e.jsx(cs,{children:e.jsxs(we,{ref:t,className:g("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(Oe,{}),e.jsx(ds,{className:g("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),e.jsx(qe,{})]})}));R.displayName=we.displayName;const jt=c.forwardRef(({className:s,...l},a)=>e.jsx(Ce,{ref:a,className:g("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l}));jt.displayName=Ce.displayName;const j=c.forwardRef(({className:s,children:l,...a},r)=>e.jsxs(ke,{ref:r,className:g("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(os,{children:e.jsx(Is,{className:"h-4 w-4"})})}),e.jsx(ms,{children:l})]}));j.displayName=ke.displayName;const ft=c.forwardRef(({className:s,...l},a)=>e.jsx(Se,{ref:a,className:g("-mx-1 my-1 h-px bg-muted",s),...l}));ft.displayName=Se.displayName;var Q="Tabs",[vt,It]=ve(Q,[Ae]),_e=Ae(),[yt,ce]=vt(Q),Ke=c.forwardRef((s,l)=>{const{__scopeTabs:a,value:r,onValueChange:t,defaultValue:o,orientation:d="horizontal",dir:i,activationMode:x="automatic",...m}=s,n=js(i),[p,v]=fe({prop:r,onChange:t,defaultProp:o??"",caller:Q});return e.jsx(yt,{scope:a,baseId:fs(),value:p,onValueChange:v,orientation:d,dir:n,activationMode:x,children:e.jsx(I.div,{dir:n,"data-orientation":d,...m,ref:l})})});Ke.displayName=Q;var We="TabsList",He=c.forwardRef((s,l)=>{const{__scopeTabs:a,loop:r=!0,...t}=s,o=ce(We,a),d=_e(a);return e.jsx(us,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(I.div,{role:"tablist","aria-orientation":o.orientation,...t,ref:l})})});He.displayName=We;var Ge="TabsTrigger",Ue=c.forwardRef((s,l)=>{const{__scopeTabs:a,value:r,disabled:t=!1,...o}=s,d=ce(Ge,a),i=_e(a),x=Xe(d.baseId,r),m=Ye(d.baseId,r),n=r===d.value;return e.jsx(ps,{asChild:!0,...i,focusable:!t,active:n,children:e.jsx(I.button,{type:"button",role:"tab","aria-selected":n,"aria-controls":m,"data-state":n?"active":"inactive","data-disabled":t?"":void 0,disabled:t,id:x,...o,ref:l,onMouseDown:G(s.onMouseDown,p=>{!t&&p.button===0&&p.ctrlKey===!1?d.onValueChange(r):p.preventDefault()}),onKeyDown:G(s.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&d.onValueChange(r)}),onFocus:G(s.onFocus,()=>{const p=d.activationMode!=="manual";!n&&!t&&p&&d.onValueChange(r)})})})});Ue.displayName=Ge;var Ze="TabsContent",Je=c.forwardRef((s,l)=>{const{__scopeTabs:a,value:r,forceMount:t,children:o,...d}=s,i=ce(Ze,a),x=Xe(i.baseId,r),m=Ye(i.baseId,r),n=r===i.value,p=c.useRef(n);return c.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),e.jsx(gs,{present:t||n,children:({present:v})=>e.jsx(I.div,{"data-state":n?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":x,hidden:!v,id:m,tabIndex:0,...d,ref:l,style:{...s.style,animationDuration:p.current?"0s":void 0},children:v&&o})})});Je.displayName=Ze;function Xe(s,l){return`${s}-trigger-${l}`}function Ye(s,l){return`${s}-content-${l}`}var bt=Ke,Qe=He,es=Ue,ss=Je;const Nt=bt,ts=c.forwardRef(({className:s,...l},a)=>e.jsx(Qe,{ref:a,className:g("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...l}));ts.displayName=Qe.displayName;const O=c.forwardRef(({className:s,...l},a)=>e.jsx(es,{ref:a,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...l}));O.displayName=es.displayName;const q=c.forwardRef(({className:s,...l},a)=>e.jsx(ss,{ref:a,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l}));q.displayName=ss.displayName;const wt=ae("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H({className:s,variant:l,...a}){return e.jsx("div",{className:g(wt({variant:l}),s),...a})}const Ct=({className:s})=>{const[l,a]=c.useState(!1),[r,t]=c.useState(""),[o,d]=c.useState("");c.useEffect(()=>{window.electronAPI&&(a(!0),d(window.electronAPI.platform),window.electronAPI.getVersion().then(t).catch(()=>{t("Non disponible")}))},[]);const i=async()=>{if(window.electronAPI)try{const m=await window.electronAPI.showSaveDialog({title:"Exporter les données",defaultPath:"amigo-marketing-data.json",filters:[{name:"Fichiers JSON",extensions:["json"]},{name:"Tous les fichiers",extensions:["*"]}]});!m.canceled&&m.filePath&&await window.electronAPI.showMessageBox({type:"info",title:"Export terminé",message:`Données exportées vers:
${m.filePath}`,buttons:["OK"]})}catch(m){console.error("Erreur lors de l'export:",m)}},x=async()=>{if(window.electronAPI)try{const m=await window.electronAPI.showOpenDialog({title:"Importer des données",filters:[{name:"Fichiers JSON",extensions:["json"]},{name:"Tous les fichiers",extensions:["*"]}],properties:["openFile"]});!m.canceled&&m.filePaths.length>0&&await window.electronAPI.showMessageBox({type:"info",title:"Import terminé",message:`Données importées depuis:
${m.filePaths[0]}`,buttons:["OK"]})}catch(m){console.error("Erreur lors de l'import:",m)}};return l?e.jsxs(b,{className:s,children:[e.jsx(N,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"}),"Version Desktop"]})}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Version:"}),e.jsx("span",{className:"font-medium",children:r})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Plateforme:"}),e.jsx("span",{className:"font-medium",children:o})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Mode:"}),e.jsx("span",{className:"font-medium text-green-600",children:"Application Desktop"})]}),e.jsxs("div",{className:"pt-2 border-t space-y-2",children:[e.jsxs(P,{onClick:i,variant:"outline",size:"sm",className:"w-full",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Exporter les données"]}),e.jsxs(P,{onClick:x,variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Importer des données"]})]})]})]}):null},kt=()=>{const[s,l]=c.useState({smsApiKey:"",smsProvider:"twilio",whatsappApiKey:"",whatsappProvider:"whatsapp-business",emailApiKey:"",emailProvider:"sendgrid",emailNotifications:!0,smsNotifications:!1,campaignAlerts:!0,weeklyReports:!0,companyName:"Amigo marketing",timezone:"Europe/Paris",language:"fr",twoFactorAuth:!1,sessionTimeout:"30",dailySmsLimit:"1000",dailyEmailLimit:"5000",monthlyBudget:"500"}),a=()=>{console.log("Sauvegarde des paramètres:",s)},r=(t,o)=>{l(d=>({...d,[t]:o}))};return e.jsxs("div",{className:"p-4 lg:p-6 max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600",children:"Configurez votre plateforme marketing"})]}),e.jsxs(P,{onClick:a,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(_s,{size:20,className:"mr-2"}),"Sauvegarder"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsx(Ct,{}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsx(w,{className:"text-lg",children:"Système"})}),e.jsxs(C,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Mode:"}),e.jsx("span",{className:"font-medium",children:"Démonstration"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Statut:"}),e.jsx(H,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Actif"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(Nt,{defaultValue:"api",className:"space-y-6",children:[e.jsxs(ts,{className:"grid w-full grid-cols-4",children:[e.jsx(O,{value:"api",children:"API & Intégrations"}),e.jsx(O,{value:"notifications",children:"Notifications"}),e.jsx(O,{value:"general",children:"Général"}),e.jsx(O,{value:"security",children:"Sécurité"})]}),e.jsxs(q,{value:"api",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(X,{className:"mr-2",size:20}),"Configuration SMS"]}),e.jsx(k,{children:"Configurez votre fournisseur SMS pour l'envoi de messages"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"sms-provider",children:"Fournisseur SMS"}),e.jsxs(F,{value:s.smsProvider,onValueChange:t=>r("smsProvider",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"twilio",children:"Twilio"}),e.jsx(j,{value:"messagebird",children:"MessageBird"}),e.jsx(j,{value:"vonage",children:"Vonage"})]})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"sms-api-key",children:"Clé API SMS"}),e.jsx(S,{id:"sms-api-key",type:"password",value:s.smsApiKey,onChange:t=>r("smsApiKey",t.target.value),placeholder:"Votre clé API SMS"})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"daily-sms-limit",children:"Limite SMS par jour"}),e.jsx(S,{id:"daily-sms-limit",type:"number",value:s.dailySmsLimit,onChange:t=>r("dailySmsLimit",t.target.value)})]})]})]}),e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(M,{className:"mr-2",size:20}),"Configuration WhatsApp"]}),e.jsx(k,{children:"Configurez WhatsApp Business API pour l'envoi de messages"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"whatsapp-provider",children:"Fournisseur WhatsApp"}),e.jsxs(F,{value:s.whatsappProvider,onValueChange:t=>r("whatsappProvider",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"whatsapp-business",children:"WhatsApp Business API"}),e.jsx(j,{value:"twilio-whatsapp",children:"Twilio WhatsApp"}),e.jsx(j,{value:"360dialog",children:"360Dialog"})]})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"whatsapp-api-key",children:"Token WhatsApp"}),e.jsx(S,{id:"whatsapp-api-key",type:"password",value:s.whatsappApiKey,onChange:t=>r("whatsappApiKey",t.target.value),placeholder:"Votre token WhatsApp"})]})]})]}),e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(z,{className:"mr-2",size:20}),"Configuration Email"]}),e.jsx(k,{children:"Configurez votre fournisseur email pour l'envoi de newsletters"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"email-provider",children:"Fournisseur Email"}),e.jsxs(F,{value:s.emailProvider,onValueChange:t=>r("emailProvider",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"sendgrid",children:"SendGrid"}),e.jsx(j,{value:"mailgun",children:"Mailgun"}),e.jsx(j,{value:"amazon-ses",children:"Amazon SES"})]})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"email-api-key",children:"Clé API Email"}),e.jsx(S,{id:"email-api-key",type:"password",value:s.emailApiKey,onChange:t=>r("emailApiKey",t.target.value),placeholder:"Votre clé API Email"})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"daily-email-limit",children:"Limite emails par jour"}),e.jsx(S,{id:"daily-email-limit",type:"number",value:s.dailyEmailLimit,onChange:t=>r("dailyEmailLimit",t.target.value)})]})]})]})]}),e.jsx(q,{value:"notifications",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(Ps,{className:"mr-2",size:20}),"Préférences de notification"]}),e.jsx(k,{children:"Choisissez comment vous souhaitez être notifié des événements importants"})]}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"Notifications email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevez des notifications par email"})]}),e.jsx(V,{checked:s.emailNotifications,onCheckedChange:t=>r("emailNotifications",t)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"Notifications SMS"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevez des notifications par SMS"})]}),e.jsx(V,{checked:s.smsNotifications,onCheckedChange:t=>r("smsNotifications",t)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"Alertes de campagne"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications quand une campagne se termine"})]}),e.jsx(V,{checked:s.campaignAlerts,onCheckedChange:t=>r("campaignAlerts",t)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"Rapports hebdomadaires"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevez un résumé hebdomadaire de vos performances"})]}),e.jsx(V,{checked:s.weeklyReports,onCheckedChange:t=>r("weeklyReports",t)})]})]})]})}),e.jsx(q,{value:"general",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(Fs,{className:"mr-2",size:20}),"Paramètres généraux"]}),e.jsx(k,{children:"Configuration de base de votre compte"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"company-name",children:"Nom de l'entreprise"}),e.jsx(S,{id:"company-name",value:s.companyName,onChange:t=>r("companyName",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"timezone",children:"Fuseau horaire"}),e.jsxs(F,{value:s.timezone,onValueChange:t=>r("timezone",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),e.jsx(j,{value:"Europe/London",children:"Europe/London (GMT+0)"}),e.jsx(j,{value:"America/New_York",children:"America/New_York (GMT-5)"}),e.jsx(j,{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"language",children:"Langue"}),e.jsxs(F,{value:s.language,onValueChange:t=>r("language",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"fr",children:"Français"}),e.jsx(j,{value:"en",children:"English"}),e.jsx(j,{value:"es",children:"Español"}),e.jsx(j,{value:"de",children:"Deutsch"})]})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"monthly-budget",children:"Budget mensuel (€)"}),e.jsx(S,{id:"monthly-budget",type:"number",value:s.monthlyBudget,onChange:t=>r("monthlyBudget",t.target.value)})]})]})]})}),e.jsxs(q,{value:"security",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(Ws,{className:"mr-2",size:20}),"Sécurité du compte"]}),e.jsx(k,{children:"Paramètres de sécurité et d'authentification"})]}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(y,{children:"Authentification à deux facteurs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sécurisez votre compte avec l'A2F"})]}),e.jsx(V,{checked:s.twoFactorAuth,onCheckedChange:t=>r("twoFactorAuth",t)})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"session-timeout",children:"Délai d'expiration de session (minutes)"}),e.jsxs(F,{value:s.sessionTimeout,onValueChange:t=>r("sessionTimeout",t),children:[e.jsx(T,{children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(j,{value:"15",children:"15 minutes"}),e.jsx(j,{value:"30",children:"30 minutes"}),e.jsx(j,{value:"60",children:"1 heure"}),e.jsx(j,{value:"120",children:"2 heures"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Actions de sécurité"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(P,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Bs,{size:16,className:"mr-2"}),"Changer le mot de passe"]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start",children:[e.jsx(B,{size:16,className:"mr-2"}),"Gérer les sessions actives"]}),e.jsxs(P,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ds,{size:16,className:"mr-2"}),"Télécharger les données du compte"]})]})]})]})]}),e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"Statut de conformité"}),e.jsx(k,{children:"Vérifiez la conformité de votre configuration"})]}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"RGPD"}),e.jsx(H,{variant:"default",className:"bg-green-100 text-green-800",children:"Conforme"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Configuration SMS"}),e.jsx(H,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"En attente"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Configuration Email"}),e.jsx(H,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"En attente"})]})]})})]})]})]})})]})]})},St=[{id:"dashboard",label:"Tableau de bord",icon:ze},{id:"campaigns",label:"Campagnes",icon:_},{id:"contacts",label:"Contacts",icon:B},{id:"templates",label:"Templates",icon:J},{id:"analytics",label:"Analytics",icon:Pe},{id:"settings",label:"Paramètres",icon:Ks}];function At(){const[s,l]=c.useState("dashboard"),[a,r]=c.useState(!1),[t,o]=c.useState(!1);c.useEffect(()=>{(async()=>{try{(await fetch(`https://${U}.supabase.co/functions/v1/make-server-020ed839/health`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}})).ok?(console.log("Serveur accessible"),(await fetch(`https://${U}.supabase.co/functions/v1/make-server-020ed839/init-demo-data`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}})).ok&&console.log("Données de démonstration initialisées")):console.log("Serveur non accessible, mode hors ligne")}catch(x){console.log("Mode hors ligne activé:",x)}finally{o(!0)}})()},[]);const d=()=>{switch(s){case"dashboard":return e.jsx(pe,{});case"campaigns":return e.jsx(et,{});case"contacts":return e.jsx(tt,{});case"templates":return e.jsx(it,{});case"analytics":return e.jsx(ct,{});case"settings":return e.jsx(kt,{});default:return e.jsx(pe,{})}};return t?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"lg:hidden bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>r(!a),className:"text-gray-500 hover:text-gray-700",children:a?e.jsx(Us,{size:24}):e.jsx($s,{size:24})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Amigo marketing"})]})}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 lg:static lg:inset-0
          ${a?"translate-x-0":"-translate-x-full"}
        `,children:[e.jsx("div",{className:"flex items-center justify-center h-16 px-6 bg-gradient-to-r from-red-600 to-red-700",children:e.jsx("h1",{className:"text-xl font-bold text-white",children:"Amigo marketing"})}),e.jsx("nav",{className:"mt-6 px-4",children:St.map(i=>{const x=i.icon,m=s===i.id;return e.jsxs("button",{onClick:()=>{l(i.id),r(!1)},className:`
                    w-full flex items-center px-4 py-3 mb-2 rounded-lg transition-all duration-200
                    ${m?"bg-red-50 text-red-600 border-r-2 border-red-600":"text-gray-600 hover:bg-red-50 hover:text-red-700"}
                  `,children:[e.jsx(x,{size:20,className:"mr-3"}),e.jsx("span",{className:"font-medium",children:i.label})]},i.id)})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-4 text-white",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Campagnes actives"}),e.jsx("p",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-xs opacity-75",children:"+2 cette semaine"})]})})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:"flex-1 lg:ml-0",children:e.jsx("main",{className:"min-h-screen",children:d()})})]})]}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Initialisation de la plateforme..."})]})})}te.createRoot(document.getElementById("root")).render(e.jsx(ys.StrictMode,{children:e.jsx(At,{})}));
